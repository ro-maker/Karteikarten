<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Karteikarten App</title>
    <style>
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-color: #f4f4f4;
            font-family: Arial, sans-serif;
        }
        
        .container {
            position: relative;
            text-align: center;
        }

        .karteikarte {
            width: 400px;
            min-height: 200px;
            max-width: 600px;
            max-height: 800px;
            background-color: white;
            border: 2px solid black;
            border-radius: 10px;
            padding: 20px;
            transition: all 0.3s ease-in-out;
            overflow: hidden;
            resize: both;
        }

        .buttons {
            margin-top: 10px;
        }

        .color-buttons {
            display: flex;
            justify-content: center;
            margin-top: 10px;
        }

        .color-buttons button {
            width: 30px;
            height: 30px;
            margin: 5px;
            border: none;
            cursor: pointer;
        }

        .problem-button {
            background-color: red;
            color: white;
            font-weight: bold;
            border: none;
            padding: 5px 10px;
            cursor: pointer;
            border-radius: 5px;
        }

        .sidebar {
            position: absolute;
            left: -50px;
            top: 50%;
            transform: translateY(-50%);
            display: flex;
            flex-direction: column;
        }

        .sidebar button {
            width: 30px;
            height: 30px;
            margin: 3px;
            border: none;
            cursor: pointer;
            background-color: lightgray;
        }

        canvas {
            position: absolute;
            top: 0;
            left: 0;
            border-radius: 10px;
        }
    </style>
</head>
<body>

<div class="container">
    <div class="karteikarte" id="karteikarte">
        <canvas id="zeichenbereich"></canvas>
        <p id="frage">Frage</p>
        <p id="antwort" style="display: none;">Antwort</p>
    </div>

    <div class="buttons">
        <button onclick="toggleAntwort()">Antwort zeigen</button>
        <button class="problem-button" onclick="markAsProblem()">P</button>
    </div>

    <div class="color-buttons">
        <button style="background-color: red;" onclick="changeColor('red')"></button>
        <button style="background-color: blue;" onclick="changeColor('blue')"></button>
        <button style="background-color: green;" onclick="changeColor('green')"></button>
        <button style="background-color: yellow;" onclick="changeColor('yellow')"></button>
        <button style="background-color: white; border: 1px solid black;" onclick="changeColor('white')"></button>
        <button style="background-color: gray;" onclick="changeColor('gray')"></button>
    </div>

    <div class="sidebar">
        <button onclick="prevCard()">◀</button>
        <button onclick="nextCard()">▶</button>
    </div>
</div>

<script>
    let showAnswer = false;

    function toggleAntwort() {
        let frage = document.getElementById("frage");
        let antwort = document.getElementById("antwort");

        if (showAnswer) {
            frage.style.display = "block";
            antwort.style.display = "none";
        } else {
            frage.style.display = "none";
            antwort.style.display = "block";
        }
        showAnswer = !showAnswer;
    }

    function changeColor(color) {
        let card = document.getElementById("karteikarte");
        card.style.backgroundColor = color;
    }

    function markAsProblem() {
        let card = document.getElementById("karteikarte");
        card.style.borderTop = "5px solid red";
    }

    function prevCard() {
        alert("Vorherige Karte");
    }

    function nextCard() {
        alert("Nächste Karte");
    }

    let canvas = document.getElementById("zeichenbereich");
    let ctx = canvas.getContext("2d");
    let drawing = false;
    let erasing = false;
    let lineWidth = 2;

    canvas.width = 400;
    canvas.height = 200;

    function startDrawing(event) {
        drawing = true;
        ctx.beginPath();
        ctx.moveTo(event.offsetX, event.offsetY);
    }

    function draw(event) {
        if (!drawing) return;
        ctx.lineTo(event.offsetX, event.offsetY);
        ctx.strokeStyle = erasing ? "white" : "black";
        ctx.lineWidth = lineWidth;
        ctx.stroke();
    }

    function stopDrawing() {
        drawing = false;
    }

    function toggleErase() {
        erasing = !erasing;
    }

    function changeLineWidth(size) {
        lineWidth = size;
    }

    canvas.addEventListener("mousedown", startDrawing);
    canvas.addEventListener("mousemove", draw);
    canvas.addEventListener("mouseup", stopDrawing);
</script>

</body>
</html>
